{"version":3,"sources":["components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Loader/Loader.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","services/images-api.js","components/ImageFinder/ImageFinder.js","components/App/App.js","index.js"],"names":["SearchBar","state","query","handleSubmit","e","preventDefault","props","onSubmit","resetForm","handleChange","target","name","value","setState","this","className","type","autoComplete","placeholder","onChange","Component","ImageGalleryItem","webformatURL","largeImageURL","onImageClick","onClick","src","alt","styles","textAlign","SpinLoader","style","color","height","width","timeout","ImageGallery","items","onImageScroll","hasMore","pageStart","loadMore","loader","key","Date","now","map","image","id","Modal","backdropRef","createRef","handlePressKey","code","onClose","handleBackdropClick","current","window","addEventListener","removeEventListener","largeImg","ref","KEY","axios","defaults","baseURL","fetchImages","page","URL","get","then","data","hits","catch","error","ImageFinder","searchQuery","images","largeImageUrl","isOpen","handleImageClick","imageUrl","handleModalClose","imageApi","length","toast","console","log","handleSearchSubmit","prevProps","prevState","autoClose","App","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.8112f3ad.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class SearchBar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    query: '',\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.query);\n\n    this.resetForm();\n  };\n\n  handleChange = e => {\n    const { name, value } = e.target;\n\n    this.setState({ [name]: value });\n  };\n\n  resetForm = () => {\n    this.setState({\n      query: '',\n    });\n  };\n\n  render() {\n    const { query } = this.state;\n\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            name=\"query\"\n            autoComplete=\"off\"\n            placeholder=\"Search images and photos\"\n            value={query}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, onImageClick }) => (\n  <li className=\"ImageGalleryItem\" onClick={() => onImageClick(largeImageURL)}>\n    <img src={webformatURL} alt=\"item-img\" className=\"ImageGalleryItem-image\" />\n  </li>\n);\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  onImageClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nconst styles = { textAlign: 'center' };\n\nconst SpinLoader = () => (\n  <Loader\n    style={styles}\n    type=\"ThreeDots\"\n    color=\"#F1005C\"\n    height={100}\n    width={100}\n    timeout={3000}\n  />\n);\n\nexport default SpinLoader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport SpinLoader from '../Loader/Loader';\n\nconst ImageGallery = ({ items, onImageClick, onImageScroll, hasMore }) => (\n  <InfiniteScroll\n    pageStart={0}\n    loadMore={onImageScroll}\n    hasMore={hasMore}\n    loader={<SpinLoader key={Date.now} />}\n  >\n    <ul className=\"ImageGallery\">\n      {items.map(image => (\n        <ImageGalleryItem\n          key={image.id + image.webformatURL}\n          {...image}\n          onImageClick={onImageClick}\n        />\n      ))}\n    </ul>\n  </InfiniteScroll>\n);\n\nImageGallery.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }).isRequired,\n  ).isRequired,\n  onImageClick: PropTypes.func.isRequired,\n  onImageScroll: PropTypes.func.isRequired,\n  hasMore: PropTypes.bool.isRequired,\n};\n\nexport default ImageGallery;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class Modal extends Component {\n  static propTypes = {\n    largeImg: PropTypes.string.isRequired,\n    onClose: PropTypes.func.isRequired,\n  };\n\n  backdropRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handlePressKey);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handlePressKey);\n  }\n\n  handlePressKey = e => {\n    if (e.code !== 'Escape') {\n      return;\n    }\n\n    this.props.onClose();\n  };\n\n  handleBackdropClick = e => {\n    const { current } = this.backdropRef;\n\n    if (current && e.target !== current) {\n      return;\n    }\n\n    this.props.onClose();\n  };\n\n  render() {\n    const { largeImg } = this.props;\n\n    return (\n      <div\n        className=\"Overlay\"\n        ref={this.backdropRef}\n        onClick={this.handleBackdropClick}\n      >\n        <div className=\"Modal\">\n          <img src={largeImg} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import axios from 'axios';\n\nconst KEY = '14950911-bbc5df412008123c8c9940cf8';\naxios.defaults.baseURL = 'https://pixabay.com/api';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const fetchImages = (query = '', page = 1) => {\n  const URL = `/?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n\n  return (\n    axios\n      .get(URL)\n      .then(({ data }) => data.hits)\n      // eslint-disable-next-line no-console\n      .catch(error => {\n        throw error;\n      })\n  );\n};\n","import React, { Component } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport SearchBar from '../SearchBar/SearchBar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport ModalWindow from '../Modal/Modal';\nimport * as imageApi from '../../services/images-api';\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass ImageFinder extends Component {\n  state = {\n    searchQuery: '',\n    images: [],\n    page: 1,\n    largeImageUrl: '',\n    isOpen: false,\n    hasMore: false,\n    error: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery } = this.state;\n\n    if (prevState.searchQuery !== searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  handleImageClick = imageUrl => {\n    this.setState({ largeImageUrl: imageUrl, isOpen: true });\n  };\n\n  handleModalClose = () => {\n    this.setState({ largeImageUrl: '', isOpen: false });\n  };\n\n  fetchImages = () => {\n    const { searchQuery, page } = this.state;\n\n    imageApi\n      .fetchImages(searchQuery, page)\n      .then(images => {\n        if (images.length) {\n          this.setState(state => ({\n            images: [...state.images, ...images],\n            page: state.page + 1,\n            hasMore: true,\n            error: false,\n          }));\n          return;\n        }\n\n        this.setState({ hasMore: false, error: true });\n        toast.error(`No images!`);\n      })\n      // eslint-disable-next-line no-console\n      .catch(console.log);\n  };\n\n  handleSearchSubmit = query => {\n    const { searchQuery } = this.state;\n\n    if (searchQuery === query) return;\n\n    this.setState({ searchQuery: query, images: [], page: 1 });\n  };\n\n  render() {\n    const { images, largeImageUrl, isOpen, hasMore, error } = this.state;\n\n    return (\n      <div className=\"ImageFinderContainer\">\n        <SearchBar onSubmit={this.handleSearchSubmit} />\n        {images.length > 0 && (\n          <ImageGallery\n            items={images}\n            onImageClick={this.handleImageClick}\n            onImageScroll={this.fetchImages}\n            hasMore={hasMore}\n          />\n        )}\n        {error && <ToastContainer autoClose={3000} />}\n        {isOpen && (\n          <ModalWindow\n            largeImg={largeImageUrl}\n            onClose={this.handleModalClose}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default ImageFinder;\n","import React from 'react';\nimport ImageFinder from '../ImageFinder/ImageFinder';\nimport './App.css';\n\nconst App = () => <ImageFinder />;\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport './index.css';\n\nReactDOM.render(<App />, document.querySelector('#root'));\n"],"sourceRoot":""}